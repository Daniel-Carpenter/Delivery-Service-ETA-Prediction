"0","# Convert all character data to factor"
"0","df.train.base <- read.csv('Train.csv', stringsAsFactors = TRUE)"
"0","df.test <- read.csv('Test.csv', stringsAsFactors = TRUE)"
"0",""
"0",""
"0","# convert the """"'s to NA"
"0","df.train.base[df.train.base == """"] <- NA"
"0",""
"0","# Clean data"
"0","df.train.base <- df.train.base %>% "
"0","  "
"0","  # Ensure boolean variables are numeric"
"0","  mutate(adwordsClickInfo.isVideoAd = as.numeric(adwordsClickInfo.isVideoAd) ) %>%"
"0","  "
"0","  # Make sure dates are dates"
"0","  mutate(date = as.Date(date),"
"0","         visitStartTime = as_datetime(visitStartTime)"
"0","         ) %>%"
"0",""
"0","  # Ensure factor are factors"
"0","  mutate(custId       = as.factor(custId),"
"0","         sessionId    = as.factor(sessionId),"
"0","         isTrueDirect = as.factor(isTrueDirect),"
"0","         newVisits    = as.factor(if_else(is.na(newVisits), 0, 1) ),"
"0","         bounces      = as.factor(if_else(is.na(bounces),   0, 1)   ),"
"0","         adwordsClickInfo.page      = as.factor(adwordsClickInfo.page),"
"0","         adwordsClickInfo.isVideoAd = as.factor(adwordsClickInfo.isVideoAd)"
"0","         ) %>%"
"0","  "
"0","  dplyr::select(-c("
"0","    isMobile # This is contained in deviceCategory"
"0","    "
"0","  ))"
"0",""
"0","#view(df.train.base)"
