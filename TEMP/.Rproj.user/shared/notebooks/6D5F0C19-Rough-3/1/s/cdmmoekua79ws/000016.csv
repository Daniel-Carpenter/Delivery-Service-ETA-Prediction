"0","# "
"0","# # Step 1: Find missing and non-missing columns"
"0","# "
"0","# ## Column numbers of the predominately null catehorical data"
"0","# COL_NUM_REGION = 14"
"0","# COL_NUM_AD_LAST = 30"
"0","# "
"0","# # Uncomment to see the names of these columns if needed"
"0","# # names(df.train.base[, COL_NUM_REGION:COL_NUM_AD_IS_VIDEO])"
"0","# "
"0","# ## Identify columns with missing and non-missing data"
"0","# nonMissingColDataBegin <- df.train.base[, 1:(COL_NUM_REGION - 1)]"
"0","# missingColumnData      <- df.train.base[, COL_NUM_REGION:COL_NUM_AD_LAST]"
"0","# nonMissingColDataEnd   <- df.train.base[, (COL_NUM_AD_LAST + 1):ncol(df.train.base)] "
"0","# "
"0","# df.pmmImputed[missing,""y""] <- mice.impute.pmm( df.pmmImputed$y, "
"0","#                                               !df.pmmImputed$missing, "
"0","#                                                df.pmmImputed$x)"
"0","# "
"0","# # Step 2: Impute the categorical missing data "
"0","# dfKNN.imp <- kNN(missingColumnData, k=3)"
"0","# "
"0","# # Step 3: Rejoin the imputed categorical data into the original data"
"0","# df.train.clean <- cbind(nonMissingColData, dfKNN.imp, nonMissingColDataEnd) %>% "
"0","#   "
"0","#   # Remove imputation T/F flags"
"0","#   dplyr::select(-ends_with('imp')"
"0","#                 "
"0","#                 # Remove single factor level columns"
"0","#                 # -c(adwordsClickInfo.isVideoAd, adwordsClickInfo.adNetworkType,"
"0","#                 #    adwordsClickInfo.slot, adwordsClickInfo.slot)"
"0","#                 )"
"0","# "
"0","# # Uncomment to See that the data is now 99.99% complete"
"0","# # skim(df.train.clean)"
"0","# "
"0","# # Step 4: drop a few remaining NA's"
"0","# df.train.clean <- df.train.clean %>% drop_na()"
